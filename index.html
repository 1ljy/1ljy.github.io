<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>致我最爱的你 | 三周年快乐</title>
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="./fonts/DancingScript-Bold.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="style.css">
    <style>
        @font-face {
            font-family: 'Dancing Script';
            src: url('./fonts/DancingScript-Bold.woff2') format('woff2');
            font-display: swap;
        }
    </style>
</head>
<body>

    <!-- 全屏加载遮罩 -->
    <div id="loading-mask">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loading-text">正在准备浪漫...</p>
        </div>
    </div>

    <!-- 1. 动态星空背景 -->
    <div id="particles-js"></div>

    <!-- 2. 爱心雨容器 -->
    <div id="hearts-rain"></div>

    <!-- 3. 背景音乐 -->
    <audio id="bgMusic" loop>
        <source src="music/xiaoxingyun.mp3" type="audio/mpeg">
    </audio>

    <!-- 4. 导航栏 (固定在顶部) -->
    <header>
        <nav>
            <a href="#" class="nav-link active" data-target="timeline-view">我们的故事</a>
            <a href="#" class="nav-link" data-target="letter-view">一封情书</a>
            <a href="#" class="nav-link" data-target="future-view">未来约定</a>
            <a href="#" class="nav-link" data-target="game-view">默契大考验</a>
            <a href="#" class="nav-link" data-target="constellation-view">星空誓言</a>
        </nav>
    </header>

    <main>
        <!-- 视图1: 时间轴 -->
        <section id="timeline-view" class="view active">
            <div class="hero-text">
                <h1 id="typewriter"></h1>
                <p>From 2022.03.27 to Forever (已陪伴 <span class="days-counter"></span> 个日夜)</p>
            </div>
            <div class="timeline-container">
                <div class="timeline-line"></div>
                
                <!-- 记忆点 1 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <h3>初识 · 一切开始的地方</h3>
                        <p class="date">2021年8月8日</p>
                        <div class="photo-wrapper">
                            <img src="images/photo1.jpg" alt="第一次见面" loading="lazy" onclick="openPhotoViewer('images/photo1.jpg')">
                        </div>
                        <p>世界很大，幸好遇见。那天，夏风漫过窗棂时，隔着距离，听见你的声音。没有画面，却记了很久。</p>
                    </div>
                </div>

                <!-- 记忆点 2 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <h3>心动 · 第一次约会</h3>
                        <p class="date">2022年7月7日</p>
                        <div class="photo-wrapper">
                            <img src="images/photo2.jpg" alt="第一次约会 - 1" loading="lazy" onclick="openPhotoViewer('images/photo2.jpg')">
                            <img src="images/photo2-2.jpg" alt="第一次约会 - 2" loading="lazy" onclick="openPhotoViewer('images/photo2-2.jpg')">
                        </div>
                        <p>笨拙的对话，藏不住的心跳。原来电影里的情节，真的会发生在自己身上。</p>
                    </div>
                </div>


                 <!-- 记忆点 3 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <h3>沉醉 · 第一次在江边吹晚风</h3>
                        <p class="date">2022年7月9日</p>
                        <div class="photo-wrapper">
                            <img src="images/photo3.jpg" alt="第一次在江边吹晚风" loading="lazy" onclick="openPhotoViewer('images/photo3.jpg')">
                        </div>
                        <p>夜的江风裹着水汽，拂过发梢时带着恰到好处的凉意。我们沿着江岸慢慢走，看对岸的灯火映在水面，碎成一片晃动的星光。没说太多话，却觉得每一阵风、每一声浪，都在替我们留住此刻的温柔。</p>
                    </div>
                </div>


               <!-- 记忆点 4 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <h3>暮色 · 第一次看日落</h3>
                        <p class="date">2022年7月10日</p>
                        <div class="photo-wrapper">
                            <img src="images/photo4.jpg" alt="第一次看日落" loading="lazy" onclick="openPhotoViewer('images/photo4.jpg')">
                        </div>
                        <p>江水被落日镀上了一层流动的金，晚归的船划过，把金光搅碎成一片粼粼的波。我们并肩坐着，看天色从暖橘一点点沉入深蓝，直到对岸的灯火亮起，像撒了一地的星星。世界很安静，只听得见彼此的呼吸和江水轻拍岸边的声音。</p>
                    </div>
                </div>



              <!-- 记忆点 5 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <h3>并肩 · 第一次爬山</h3>
                        <p class="date">2022年7月11日</p>
                        <div class="photo-wrapper">
                            <img src="images/photo5.jpg" alt="第一次爬山" loading="lazy" onclick="openPhotoViewer('images/photo5.jpg')">
                        </div>
                        <p>登顶的疲惫，在山风吹来的那一刻全散了。我们还没来得及喘口气，一轮圆月就从山后悄悄爬了上来。月光洒下来，把远处的城市轮廓勾勒得温柔又朦胧。整个世界都安静了，好像只有我们和这片清辉。那一刻，觉得所有的辛苦都值得了。</p>
                    </div>
                </div>

              <!-- 记忆点 6 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <h3>悠然 · 第一次坐缆车</h3>
                        <p class="date">2022年12月19日</p>
                        <div class="photo-wrapper">
                            <img src="images/photo6.jpg" alt="第一次坐缆车" loading="lazy" onclick="openPhotoViewer('images/photo6.jpg')">
                        </div>
                        <p>缆车慢得像在散步，车厢晃晃悠悠的，发出“哐当”的声音。我们从山脚慢慢往上爬，看着两边的老房子和树一点点后退，没有刺激，只有一种说不出的安逸，像是坐进了这座城市的旧时光里。</p>
                    </div>
                </div>


                
            </div>
        </section>

        <!-- 视图2: 信件页 -->
        <section id="letter-view" class="view">
            <div class="content-card">
                <div id="unlockForm">
                    <h2>这封信，只属于你</h2>
                    <p>请输入你的生日，解锁我为你写的话</p>
                    <input type="date" id="birthdayInput">
                    <button id="unlock-btn">解锁 ❤️</button>
                </div>
                <div id="letterContent" style="display: none;">
                    <h1>To My Dearest Love,</h1>
                    <p id="letter-text"></p>
                </div>
            </div>
        </section>

        <!-- 视图3: 未来约定页 -->
        <section id="future-view" class="view">
            <div class="content-card">
                <h1>Our Next Chapter</h1>
                <p>我们未完待续的故事...</p>
                <ul class="future-list">
                    <li>🏔️ 去冰岛看极光，在星空下许愿</li>
                    <li>🏠 一起装修我们的小家，每个角落都是爱</li>
                    <li>🐻 养一只肥猫，看它在我们脚边长大</li>
                    <li>💍 在一个只有我们知道的日子，给你一个家</li>
                    <li>👨‍👩‍👧‍👦 组建我们自己的小家庭，听孩子叫我们爸爸妈妈</li>
                    <li>👵🏻👴🏻 变成两个可爱的老头老太太，还手牵手去散步</li>
                </ul>
            </div>
        </section>

        <!-- 视图4: 默契大考验游戏页 -->
        <section id="game-view" class="view">
            <div class="content-card">
                <h1>默契大考验 ❤️</h1>
                <p>看看我们有多了解彼此！</p>
                
                <div id="game-start">
                    <p>准备好了吗？</p>
                    <button id="start-game-btn">开始游戏</button>
                </div>

                <div id="game-play" style="display: none;">
                    <div class="question-container">
                        <h2 id="question-text">问题将在这里显示</h2>
                    </div>
                    <div class="options-container" id="options-container">
                        <!-- 选项将由JS动态生成 -->
                    </div>
                    <div class="game-progress">
                        <span id="progress-text">1 / 5</span>
                    </div>
                </div>

                <div id="game-result" style="display: none;">
                    <h2>测试完成！</h2>
                    <p>你们的默契值是：</p>
                    <div class="score-display">
                        <span id="score-value">0</span>%
                    </div>
                    <p id="result-message"></p>
                    <button id="restart-game-btn">再玩一次</button>
                </div>
            </div>
        </section>

        <!-- 视图5: 星空下的誓言 -->
        <section id="constellation-view" class="view">
            <div class="content-card">
                <h1>星空下的誓言 ✨</h1>
                <p>用星辰，画出我们共同的答案。</p>
                
                <div id="star-grid-container">
                    <div id="star-grid"></div>
                    <div id="game-hint">点击“开始”，点亮属于我们的第一颗星</div>
                </div>

                <div id="game-controls">
                    <button id="start-canvas-btn">开始绘制</button>
                    <button id="check-answer-btn" style="display: none;">提交答案</button>
                </div>
            </div>
        </section>
    </main>

    <!-- 全屏照片查看器 -->
    <div id="photo-viewer" class="photo-viewer">
        <span class="close-viewer">&times;</span>
        <img class="viewer-content" id="viewer-img">
    </div>

    <!-- 引入本地脚本 -->
    <script src="js/particles.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
